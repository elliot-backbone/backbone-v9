{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/elliotstorey/backbone-v9/ui/components/Action.js"],"sourcesContent":["export default function Action({ action, onComplete, onSkip, loading }) {\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-lg text-gray-600\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!action) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-lg text-gray-600\">No actions available</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen px-4\">\n      <div className=\"w-full max-w-2xl\">\n        {/* Company name - secondary weight */}\n        <div className=\"mb-4 text-sm text-gray-600\">\n          {action.entityRef.name}\n        </div>\n\n        {/* Action title - large, plain text */}\n        <h1 className=\"mb-8 text-3xl font-normal text-gray-900\">\n          {action.title}\n        </h1>\n\n        {/* Steps - numbered list, monospace-friendly */}\n        <ol className=\"mb-12 space-y-3\">\n          {action.steps.map((step) => (\n            <li key={step.step} className=\"flex gap-3\">\n              <span className=\"font-mono text-gray-500\">{step.step}.</span>\n              <span className=\"text-gray-800\">{step.action}</span>\n            </li>\n          ))}\n        </ol>\n\n        {/* Action controls */}\n        <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center\">\n          {/* Primary CTA - Mark Complete */}\n          <button\n            onClick={onComplete}\n            className=\"px-6 py-3 text-white bg-gray-900 rounded hover:bg-gray-800 transition-colors\"\n          >\n            Mark Complete\n          </button>\n\n          {/* Secondary CTA - Skip */}\n          <button\n            onClick={onSkip}\n            className=\"text-gray-600 hover:text-gray-900 transition-colors\"\n          >\n            Skip\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,OAAO,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE;IACpE,IAAI,SAAS;QACX,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;0BAAwB;;;;;;;;;;;IAG7C;IAEA,IAAI,CAAC,QAAQ;QACX,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;0BAAwB;;;;;;;;;;;IAG7C;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BAEb,qKAAC;oBAAI,WAAU;8BACZ,OAAO,SAAS,CAAC,IAAI;;;;;;8BAIxB,qKAAC;oBAAG,WAAU;8BACX,OAAO,KAAK;;;;;;8BAIf,qKAAC;oBAAG,WAAU;8BACX,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,qBACjB,qKAAC;4BAAmB,WAAU;;8CAC5B,qKAAC;oCAAK,WAAU;;wCAA2B,KAAK,IAAI;wCAAC;;;;;;;8CACrD,qKAAC;oCAAK,WAAU;8CAAiB,KAAK,MAAM;;;;;;;2BAFrC,KAAK,IAAI;;;;;;;;;;8BAQtB,qKAAC;oBAAI,WAAU;;sCAEb,qKAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAKD,qKAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"sources":["file:///Users/elliotstorey/backbone-v9/ui/pages/index.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport Action from '../components/Action';\n\nexport default function Home() {\n  const [action, setAction] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Fetch current action\n  const fetchAction = async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch('/api/actions/today');\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch action');\n      }\n      \n      const data = await response.json();\n      // Extract first action from the actions array\n      setAction(data.actions && data.actions.length > 0 ? data.actions[0] : null);\n    } catch (err) {\n      setError(err.message);\n      setAction(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Initial load\n  useEffect(() => {\n    fetchAction();\n  }, []);\n\n  // Handle action completion\n  const handleComplete = async () => {\n    if (!action) return;\n\n    try {\n      const response = await fetch(`/api/actions/${action.actionId}/complete`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          actionId: action.actionId,\n          completedAt: new Date().toISOString(),\n        }),\n      });\n\n      if (response.status === 204) {\n        // Success - fetch next action\n        await fetchAction();\n      } else {\n        throw new Error('Failed to complete action');\n      }\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Handle action skip\n  const handleSkip = async () => {\n    if (!action) return;\n\n    try {\n      const response = await fetch(`/api/actions/${action.actionId}/skip`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          actionId: action.actionId,\n        }),\n      });\n\n      if (response.status === 204) {\n        // Success - fetch next action\n        await fetchAction();\n      } else {\n        throw new Error('Failed to skip action');\n      }\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-red-600\">Error: {error}</div>\n      </div>\n    );\n  }\n\n  return (\n    <Action \n      action={action} \n      onComplete={handleComplete} \n      onSkip={handleSkip}\n      loading={loading}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,uBAAuB;IACvB,MAAM,cAAc;QAClB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,8CAA8C;YAC9C,UAAU,KAAK,OAAO,IAAI,KAAK,OAAO,CAAC,MAAM,GAAG,IAAI,KAAK,OAAO,CAAC,EAAE,GAAG;QACxE,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;YACpB,UAAU;QACZ,SAAU;YACR,WAAW;QACb;IACF;IAEA,eAAe;IACf,IAAA,gHAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,2BAA2B;IAC3B,MAAM,iBAAiB;QACrB,IAAI,CAAC,QAAQ;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,aAAa,EAAE,OAAO,QAAQ,CAAC,SAAS,CAAC,EAAE;gBACvE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU,OAAO,QAAQ;oBACzB,aAAa,IAAI,OAAO,WAAW;gBACrC;YACF;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,8BAA8B;gBAC9B,MAAM;YACR,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,qBAAqB;IACrB,MAAM,aAAa;QACjB,IAAI,CAAC,QAAQ;QAEb,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,CAAC,aAAa,EAAE,OAAO,QAAQ,CAAC,KAAK,CAAC,EAAE;gBACnE,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBACnB,UAAU,OAAO,QAAQ;gBAC3B;YACF;YAEA,IAAI,SAAS,MAAM,KAAK,KAAK;gBAC3B,8BAA8B;gBAC9B,MAAM;YACR,OAAO;gBACL,MAAM,IAAI,MAAM;YAClB;QACF,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;QACtB;IACF;IAEA,IAAI,OAAO;QACT,qBACE,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;oBAAe;oBAAQ;;;;;;;;;;;;IAG5C;IAEA,qBACE,qKAAC,gJAAM;QACL,QAAQ;QACR,YAAY;QACZ,QAAQ;QACR,SAAS;;;;;;AAGf"}}]
}